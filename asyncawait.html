<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- bootstrap -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Countries</title>
</head>
<body background="./andrew-stutesman-l68Z6eF2peA-unsplash.jpg">
    <div class="row ">
<div class="col-md-2"></div>

<div class="col-md-8  p-5 border rounded shadow mt-3 align-items-center d-flex justify-content-center" style="background-color: rgba(255, 252, 255, 0.36);">
   
    <div class="w-50">    
             <h1 class="text-center">Country details</h1>
            <div class=" mb-5 mt-5 w-100 ">
            <input id="country" class="mb-2 w-100" type="text" placeholder="Enter a country">
            <button type="button" class="btn btn-success "  onclick="search()">Search </button>
            </div>
    
            <div  id="result"> 
                   
            </div>
    </div>
</div>
<div class="col-md-2"></div>

    </div>
</body>

<script>
 const search=async()=>{
    let countryName = country.value
    // console.log(countryName);
    if(countryName){
        const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}?fullText=true`)   //in async-await data can be stored
        //console.log(response);
        response.json().then((details)=>{       //unlike normal fetch method in async await only one .then() method is used
 
            
            //flag

            flag=details[0].flags.png
            // console.log(flag);

            //name

            name=details[0].name.official
            // console.log(name);

            //capital

            capital=details[0].capital
            // console.log(capital);


            //region

            region=details[0].region
            // console.log(region);

            //currency &symbol

            currency=details[0].currencies
            money=[]
           for(let value in currency){
       
        var currname=currency[value].name
        var currsymbol=currency[value].symbol
           }       

        //   console.log(currname );
        //   console.log( currsymbol);
         

          
            //lamguages

            languages=details[0].languages
            nationallang=[]

            for(let value in languages){
                nationallang.push(languages[value])
            }

            // console.log(nationallang);


            //population


            population=details[0].population
            // console.log(population);

            //timezone


            timezones=details[0].timezones
            // console.log(timezones);

            //maps

            map=details[0].maps.googleMaps
            // console.log(map);
    

            details.forEach(item => {

            result.innerHTML=` <div class="card w-100 rounded" style="width: 18rem;">
                        <div class="col-md-12">
                            <div class="row"> <img class="card-img-top rounded" src="${flag}" width="100%" alt="Card image cap">
                                <h3 class="card-text text-center mt-2 fw-bold mb-3">${name}</h3></div>
                            <div class="card-body col-md-12 ms-3">
                               
                            <p > <span class="fw-bold"> Capital: </span>${capital}</p>
                            <p > <span class="fw-bold"> Region: </span>${region}</p>
                            <p > <span class="fw-bold"> Currencies:  </span>${ currname +` `+  currsymbol}</p>
                            <p > <span class="fw-bold"> Languages: </span>${nationallang}</p>
                            <p > <span class="fw-bold"> Population: </span>${population}</p>
                            <p > <span class="fw-bold"> Timezones: </span>${timezones}</p>   
                            <p > <span class="fw-bold"> Google maps: </span><a href="">${map}</a></p>                            
                            </div>
                        </div>
                    </div>`
                
            });        
        })
    }
    else{
        alert(`enter a country name`)
    }
 }

</script>
</html>





